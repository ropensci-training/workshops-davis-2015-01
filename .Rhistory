library('taxize')
splist <- c("Helianthus annuus","Pinus contorta","Collomia grandiflora","Abies magnifica","Rosa californica","Datura wrightii","Mimulus bicolor","Nicotiana glauca","Madia sativa","Bartlettia scaposa")
class_list <- classification(splist, db="itis")
downstream('Juncaceae', db='col', downto='Tribe')
downstream('Juncaceae', db='col', downto='Genus')
setwd("01-taxonomy/")
library(knitr)
knit("taxize_usecase3.Rmd")
knit("taxize_usecase3.Rmd")
knit("taxize_usecase2.Rmd")
knit("taxize_usecase1.Rmd")
knit("taxize_usecase4.Rmd")
setwd("~"); download.file("http://cran.r-project.org/src/contrib/testthat_0.9.tar.gz", "testthat_0.9.tar.gz")
install.packages("testthat_0.9.tar.gz", repos = NULL, type="source")
library(testthat)
?testthat
library('rbison')
library('ggplot2')
library('plyr')
library('doMC')
mynames <- c("Helianthus annuus", "Pinus contorta", "Poa annua",
"Madia sativa", "Arctostaphylos glauca", "Heteromeles arbutifolia",
"Symphoricarpos albus", "Ribes viburnifolium", "Diplacus aurantiacus",
"Salvia leucophylla", "Encelia californica", "Ribes indecorum",
"Ribes malvaceum", "Cercocarpus betuloides", "Penstemon spectabilis")
getdata <- function(x, count = 2) {
out <- bison(species = x, county = "Los Angeles", count = count)
bison_data(out, "data_df")
}
registerDoMC(cores = 4)
out <- ldply(mynames, getdata, count = 500, .parallel = TRUE)
library('rbison')
library('ggplot2')
library('plyr')
library('doMC')
x=mynames[1]
x
count=2
bison(species = x, county = "Los Angeles", count = count)
out <- bison(species = x, county = "Los Angeles", count = count)
out$summary$specimen
getdata <- function(x, count = 2) {
out <- bison(species = x, county = "Los Angeles", count = count)
out$summary$specimen
}
count=0
bison(species = x, county = "Los Angeles", count = count)
bison(species = x, county = "Los Angeles", count = count, what = "summary")
bison(species = x, county = "Los Angeles", count = count, what = "summary")
getdata <- function(x, count = 2) {
out <- bison(species = x, county = "Los Angeles", count = count, what = "summary")
out$summary$specimen
}
getdata <- function(x) {
out <- bison(species = x, county = "Los Angeles", count = 0, what = "summary")
out$summary$specimen
}
out <- lapply(mynames, getdata)
out
unlist(out)
out <- unlist(out)
names(out) <- mynames
out
ddply(out)
ldply(out)
df <- ldply(out)
library('vegan')
plot(radfit(df$abd))
radfit(df$V1)
plot(radfit(df$V1))
setwd("02-biodiversity/")
library(knitr)
knit("rbison_usecase1.Rmd")
knit("rbison_usecase1.Rmd")
files <- list.files(paste(system.file(package="dismo"), '/ex', sep=''), 'grd', full.names=TRUE)
predictors <- stack(files)
files <- list.files(paste(system.file(package="dismo"), '/ex', sep=''), 'grd', full.names=TRUE)
files
predictors <- stack(files)
library('rgbif')
library('dismo')
library('maptools')
library('plyr')
files <- list.files(paste(system.file(package="dismo"), '/ex', sep=''), 'grd', full.names=TRUE)
predictors <- stack(files)
data(wrld_simpl)
namesdf <- name_lookup(query='bradypus*', rank="SPECIES", limit=60)$data
head(namesdf)
namesdf$nubKey
keys <- na.omit(unique(namesdf$nubKey))
keys
df <- occ_search(keys, hasCoordinate = TRUE, limit = 100, return = 'data')
df
df[sapply(df, class) == "data.frame"]
df <- df[sapply(df, class) == "data.frame"]
df2 <- ldply(df)
df2
df2 <- data.frame(lon=df2$longitude, lat=df2$latitude)
df2
df2 <- ldply(df)
data.frame(lon=df2$decimalLongitude, lat=df2$decimalLatitude)
df2 <- data.frame(lon=df2$decimalLongitude, lat=df2$decimalLatitude)
plot(predictors, 1)
plot(wrld_simpl, add=TRUE)
points(df2, col='blue')
library(knitr)
knit("rgbif_usecase1.Rmd")
knit("rgbif_usecase1.Rmd")
knit("rgbif_usecase1.Rmd")
knit("rgbif_usecase1.Rmd")
knit("rgbif_usecase1.Rmd")
knit("rbison_usecase1.Rmd")
knitr::knit("rbison_usecase1.Rmd")
